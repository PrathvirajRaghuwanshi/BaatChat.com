<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Box</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }

        body {
            background-color: #f0f2f5;
        }

        .chat-container {
            display: flex;
            max-width: 1200px;
            height: 100vh;
            margin: 0 auto;
            background: #fff;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .sidebar {
            width: 300px;
            background: #fff;
            border-right: 1px solid #e0e0e0;
            display: flex;
            flex-direction: column;
        }

        .search-container {
            padding: 15px;
            border-bottom: 1px solid #e0e0e0;
        }

        .search-input {
            width: 100%;
            padding: 8px 15px;
            border: 1px solid #e0e0e0;
            border-radius: 20px;
            outline: none;
        }

        .user-list {
            flex: 1;
            overflow-y: auto;
        }

        .user-item {
            padding: 15px;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: background-color 0.2s;
            border-bottom: 1px solid #f0f0f0;
        }

        .user-item.active {
            background-color: #e7f0ff;
        }

        .user-item:hover {
            background-color: #f5f5f5;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #4a90e2;
            margin-right: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .user-info {
            flex: 1;
        }

        .user-name {
            font-weight: bold;
            margin-bottom: 4px;
        }

        .user-status {
            font-size: 12px;
            color: #666;
        }

        .user-preview {
            font-size: 13px;
            color: #666;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 200px;
        }

        .chat-main {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: #fff;
        }

        .chat-header {
            padding: 15px;
            background: #fff;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .chat-header-info {
            display: flex;
            align-items: center;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: #f0f2f5;
        }

        .message {
            margin-bottom: 20px;
            display: flex;
            flex-direction: column;
        }

        .message.sent {
            align-items: flex-end;
        }

        .message.received {
            align-items: flex-start;
        }

        .message-content {
            max-width: 60%;
            padding: 10px 15px;
            border-radius: 15px;
            margin-bottom: 5px;
        }

        .sent .message-content {
            background: #0084ff;
            color: white;
        }

        .received .message-content {
            background: #e4e6eb;
            color: black;
        }

        .message-time {
            font-size: 12px;
            color: #666;
        }

        .chat-input {
            padding: 20px;
            background: #fff;
            border-top: 1px solid #e0e0e0;
        }

        .input-container {
            display: flex;
            gap: 10px;
        }

        .message-input {
            flex: 1;
            padding: 10px 15px;
            border: 1px solid #e0e0e0;
            border-radius: 20px;
            outline: none;
        }

        .send-button {
            padding: 10px 20px;
            background: #0084ff;
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .send-button:hover {
            background: #0073e6;
        }

        .mobile-back {
            display: none;
            margin-right: 15px;
            cursor: pointer;
        }

        @media (max-width: 768px) {
            .sidebar {
                position: absolute;
                left: 0;
                top: 0;
                bottom: 0;
                z-index: 2;
                transform: translateX(0);
                transition: transform 0.3s ease;
            }

            .sidebar.hidden {
                transform: translateX(-100%);
            }

            .mobile-back {
                display: block;
            }

            .message-content {
                max-width: 80%;
            }

            .chat-container {
                margin: 0;
            }
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="sidebar">
            <div class="search-container">
                <input type="text" class="search-input" placeholder="Search contacts...">
            </div>
            <div class="user-list">
               
            </div>
        </div>
        <div class="chat-main">
            <div class="chat-header">
                <div class="chat-header-info">
                    <div class="mobile-back">←</div>
                    <div class="user-avatar">A</div>
                    <div class="user-info">
                        <div class="user-name">Select a chat</div>
                        <div class="user-status">No active chat</div>
                    </div>
                </div>
            </div>
            <div class="chat-messages">
               
            </div>
            <div class="chat-input">
                <div class="input-container">
                    <input type="text" class="message-input" placeholder="Type a message...">
                    <button class="send-button">Send</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        
        const users = [
            { 
                id: 1, 
                name: 'Prathviraj Raghuwanshi', 
                status: 'Online', 
                avatar: 'PR',
                lastSeen: '2m ago',
                messages: [
                    { id: 1, text: 'Hey there!', sender: 'received', time: '10:00 AM' },
                    { id: 2, text: 'Hi ! How are you?', sender: 'sent', time: '10:01 AM' },
                    { id: 3, text: 'I\'m good, thanks!', sender: 'received', time: '10:02 AM' }
                ]
            },
            { 
                id: 2, 
                name: 'Divyanshi Gupta', 
                status: 'Away',
                avatar: 'DG', 
                lastSeen: '5m ago',
                messages: [
                    { id: 1, text: 'Did you see the meeting notes?', sender: 'received', time: '9:30 AM' },
                    { id: 2, text: 'Yes, I\'ll review them soon', sender: 'sent', time: '9:35 AM' }
                ]
            },
            { 
                id: 3, 
                name: 'Elon Musk', 
                status: 'Online',
                avatar: 'EM', 
                lastSeen: 'Just now',
                messages: [
                    { id: 1, text: 'Project update?', sender: 'received', time: '11:00 AM' },
                    { id: 2, text: 'On track for delivery', sender: 'sent', time: '11:05 AM' },
                    { id: 3, text: 'Great news!', sender: 'received', time: '11:06 AM' }
                ]
            },
           { 
            id: 4, 
                name: 'Jay Shetty', 
                status: 'Online',
                avatar: 'JS', 
                lastSeen: 'Just now',
                messages: [
                    { id: 1, text: 'hey! wanna join my podcast', sender: 'received', time: '10:00 AM' },
                    { id: 2, text: 'yeah sure!', sender: 'sent', time: '10:05 AM' },
                    { id: 3, text: 'sending link asap', sender: 'received', time: '10:06 AM' }
                ]
           } 

        ];

       
        const userList = document.querySelector('.user-list');
        const chatMessages = document.querySelector('.chat-messages');
        const messageInput = document.querySelector('.message-input');
        const sendButton = document.querySelector('.send-button');
        const chatHeader = document.querySelector('.chat-header');
        const searchInput = document.querySelector('.search-input');
        const sidebar = document.querySelector('.sidebar');
        const mobileBack = document.querySelector('.mobile-back');

        let activeUser = null;

       
        function renderUsers() {
            const searchTerm = searchInput.value.toLowerCase();
            const filteredUsers = users.filter(user => 
                user.name.toLowerCase().includes(searchTerm)
            );

            userList.innerHTML = filteredUsers.map(user => `
                <div class="user-item ${activeUser?.id === user.id ? 'active' : ''}" data-user-id="${user.id}">
                    <div class="user-avatar">${user.avatar}</div>
                    <div class="user-info">
                        <div class="user-name">${user.name}</div>
                        <div class="user-status">${user.status} • ${user.lastSeen}</div>
                        <div class="user-preview">
                            ${user.messages[user.messages.length - 1]?.text || 'No messages yet'}
                        </div>
                    </div>
                </div>
            `).join('');

            
            document.querySelectorAll('.user-item').forEach(item => {
                item.addEventListener('click', () => {
                    const userId = parseInt(item.dataset.userId);
                    setActiveUser(users.find(u => u.id === userId));
                    if (window.innerWidth <= 768) {
                        sidebar.classList.add('hidden');
                    }
                });
            });
        }

       
        function setActiveUser(user) {
            activeUser = user;
            renderUsers();
            renderMessages();
            updateHeader();
        }

        
        function updateHeader() {
            if (activeUser) {
                chatHeader.querySelector('.user-avatar').textContent = activeUser.avatar;
                chatHeader.querySelector('.user-name').textContent = activeUser.name;
                chatHeader.querySelector('.user-status').textContent = 
                    `${activeUser.status} • ${activeUser.lastSeen}`;
            }
        }

       
        function renderMessages() {
            if (!activeUser) {
                chatMessages.innerHTML = '<div class="text-center">Select a chat to start messaging</div>';
                return;
            }

            chatMessages.innerHTML = activeUser.messages.map(message => `
                <div class="message ${message.sender}">
                    <div class="message-content">${message.text}</div>
                    <div class="message-time">${message.time}</div>
                </div>
            `).join('');
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Send message
        function sendMessage() {
            if (!activeUser) return;

            const text = messageInput.value.trim();
            if (text) {
                const newMessage = {
                    id: activeUser.messages.length + 1,
                    text: text,
                    sender: 'sent',
                    time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })
                };
                activeUser.messages.push(newMessage);
                renderMessages();
                renderUsers(); 
                messageInput.value = '';
            }
        }

        
        sendButton.addEventListener('click', sendMessage);
        messageInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        searchInput.addEventListener('input', renderUsers);

        mobileBack.addEventListener('click', () => {
            sidebar.classList.remove('hidden');
        });

       
        renderUsers();
        renderMessages();
    </script>
</body>
</html>